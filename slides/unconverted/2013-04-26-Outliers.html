<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>2013-04-26-Outliers</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="title" content="2013-04-26-Outliers"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2013-04-26 09:40:08 PDT"/>
<meta name="author" content="Jim Blomo"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>

<link rel="stylesheet" type="text/css" href="production/common.css" />
<link rel="stylesheet" type="text/css" href="production/screen.css" media="screen" />
<link rel="stylesheet" type="text/css" href="production/projection.css" media="projection" />
<link rel="stylesheet" type="text/css" href="production/color-blue.css" media="projection" />
<link rel="stylesheet" type="text/css" href="production/presenter.css" media="presenter" />
<link href='http://fonts.googleapis.com/css?family=Lobster+Two:700|Yanone+Kaffeesatz:700|Open+Sans' rel='stylesheet' type='text/css'>


</head>
<body>

<div id="preamble">

</div>

<div id="content">
<h1 class="title">2013-04-26-Outliers</h1>


<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1 Outliers</a></li>
<li><a href="#sec-2">2 Generative Model</a>
<ul>
<li><a href="#sec-2-1">2.1 Questions</a></li>
</ul>
</li>
<li><a href="#sec-3">3 Outliers</a>
<ul>
<li><a href="#sec-3-1">3.1 Intuitive</a></li>
</ul>
</li>
<li><a href="#sec-4">4 Outlier Types</a></li>
<li><a href="#sec-5">5 Which Type?</a></li>
<li><a href="#sec-6">6 Types of Learning</a>
<ul>
<li><a href="#sec-6-1">6.1 :notes:</a></li>
</ul>
</li>
<li><a href="#sec-7">7 Outlier Methods</a>
<ul>
<li><a href="#sec-7-1">7.1 Features</a></li>
</ul>
</li>
<li><a href="#sec-8">8 Statistical</a>
<ul>
<li><a href="#sec-8-1">8.1 Why Statistical</a></li>
<li><a href="#sec-8-2">8.2 Statistical Example</a>
<ul>
<li><a href="#sec-8-2-1">8.2.1 Pros/Cons</a></li>
</ul></li>
</ul>
</li>
<li><a href="#sec-9">9 Grubb's Test</a>
<ul>
<li><a href="#sec-9-1">9.1 Pros/Cons</a></li>
</ul>
</li>
<li><a href="#sec-10">10 Outlier Distance</a>
<ul>
<li><a href="#sec-10-1">10.1 Limitations</a></li>
</ul>
</li>
<li><a href="#sec-11">11 Mahalanobis Distance</a>
<ul>
<li><a href="#sec-11-1">11.1 Mahalanobis</a></li>
<li><a href="#sec-11-2">11.2 Mahalanobis Definition</a></li>
<li><a href="#sec-11-3">11.3 Some Math</a></li>
</ul>
</li>
<li><a href="#sec-12">12 Contextual Outliers</a></li>
<li><a href="#sec-13">13 <b>Break</b></a></li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Outliers &nbsp;&nbsp;&nbsp;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-1">


</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Generative Model &nbsp;&nbsp;&nbsp;<span class="tag"><span class="slide">slide</span>&nbsp;<span class="animate">animate</span></span></h2>
<div class="outline-text-2" id="text-2">

<ul>
<li>"Real" model that produced original data points
</li>
<li>Our mission is to reproduce the original model
</li>
<li>Thus we have different techniques that can model different behavior
</li>
</ul>


</div>

<div id="outline-container-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> Questions &nbsp;&nbsp;&nbsp;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-2-1">

<ul>
<li>What is a "generative model"?
</li>
<li>What is data mining trying to discover? What is machine learning hoping to
     reproduce?
</li>
<li>Why have different classifiers? Decision tree, Naive Bayes, etc?
</li>
</ul>


</div>
</div>

</div>

<div id="outline-container-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Outliers &nbsp;&nbsp;&nbsp;<span class="tag"><span class="slide">slide</span>&nbsp;<span class="two_col">two_col</span></span></h2>
<div class="outline-text-2" id="text-3">

<ul>
<li>Significant deviation
</li>
<li>Probably generated through a <b>different model</b> than the rest of the data
</li>
<li>Normal / Abnormal
</li>
</ul>

<p>  <img src="img/outlier.jpg"  alt="img/outlier.jpg" />
</p>
</div>

<div id="outline-container-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> Intuitive &nbsp;&nbsp;&nbsp;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-3-1">

<ul>
<li>We all have a pretty good intuitive understand of what outliers are
</li>
<li>Mathematically, you can express the variation as a different generative
     model
</li>
<li>Normal / Abnormal data (be careful about using it in human contexts)
</li>
<li>img: <a href="http://enriquegortiz.com/wordpress/enriquegortiz/research/undergraduate/">http://enriquegortiz.com/wordpress/enriquegortiz/research/undergraduate/</a>
</li>
</ul>


</div>
</div>

</div>

<div id="outline-container-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Outlier Types &nbsp;&nbsp;&nbsp;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-4">

<dl>
<dt>Global</dt><dd>points which deviate from the rest of the <b>entire</b> data set. Point
    anomalies
</dd>
<dt>Contextual</dt><dd>points which deviate from their <b>peers</b>. Conditional outliers
</dd>
<dt>Collective</dt><dd>points which deviate as a <b>group</b>, even though individual
    points may not be considered outliers.
</dd>
</dl>


</div>

</div>

<div id="outline-container-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> Which Type? &nbsp;&nbsp;&nbsp;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-5">

<ul>
<li>Given class sizes at Berkeley:
<ul>
<li>A day with 10 people in class
</li>
<li>A day with 7000 people in class
</li>
<li>3 weeks of 15 people in <b>this</b> class
</li>
</ul>

</li>
<li>Given Earth's temperatures:
<ul>
<li>A day at 100°C
</li>
<li>30 straight days of rain in Berkeley
</li>
<li>A day at 100°F
</li>
</ul>

</li>
</ul>


</div>

</div>

<div id="outline-container-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> Types of Learning &nbsp;&nbsp;&nbsp;<span class="tag"><span class="slide">slide</span>&nbsp;<span class="two_col">two_col</span></span></h2>
<div class="outline-text-2" id="text-6">

<ul>
<li>Supervised
</li>
<li>Unsupervised
</li>
<li>Semi-Supervised
</li>
</ul>


<p>
  <img src="img/ml-large-icon.png"  alt="img/ml-large-icon.png" />
</p>
</div>

<div id="outline-container-6-1" class="outline-3">
<h3 id="sec-6-1"><span class="section-number-3">6.1</span> &nbsp;&nbsp;&nbsp;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-6-1">

<dl>
<dt>Supervised</dt><dd>learning from "gold standard" labels
</dd>
<dt>Unsupervised</dt><dd>learning without labels
</dd>
<dt>Semi-Supervised</dt><dd>infer more labels from a few, learn based on inferred +
    labeled
</dd>
<dt>img</dt><dd><a href="https://www.coursera.org/course/ml">https://www.coursera.org/course/ml</a>
</dd>
</dl>


</div>
</div>

</div>

<div id="outline-container-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> Outlier Methods &nbsp;&nbsp;&nbsp;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-7">

<dl>
<dt>Supervised</dt><dd>Label outliers, treat as classification problem
</dd>
<dt>Unsupervised</dt><dd>Cluster data, find points not clustered well
</dd>
<dt>Semi-Supervised</dt><dd>Manually label few, find point nearby to automatically
    label, then treat as classification
</dd>
<dt>Statistical</dt><dd>Decide on a generative model / distribution, find points
    which have a low probability of belonging
</dd>
<dt>Proximity</dt><dd>Use relative distance to neighbors
</dd>
</dl>


</div>

<div id="outline-container-7-1" class="outline-3">
<h3 id="sec-7-1"><span class="section-number-3">7.1</span> Features &nbsp;&nbsp;&nbsp;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-7-1">

<ul>
<li>Some methods may be overlapping
</li>
<li>When developing features for classification, using relative features can
     be helpful: eg. distance from mean
</li>
<li>Eg. Agglomerative clustering, find lone/small groups that are last to
     glom together
</li>
<li>Eg. k-means find points which are "far" out from centroids
<ul>
<li>Determining "far", "last" can be application specific, part of the
       challenge
</li>
</ul>

</li>
<li>What algorithm could we use to automatically label nearby points? k-nearest
     neighbor
</li>
<li>Statistical: Again, must define "low" in your domain
</li>
<li>Proximity: basically translating features into another, relative, space,
     then applying a different type of outlier detection (eg. statistical)
</li>
</ul>


</div>
</div>

</div>

<div id="outline-container-8" class="outline-2">
<h2 id="sec-8"><span class="section-number-2">8</span> Statistical &nbsp;&nbsp;&nbsp;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-8">

<ul>
<li>Assume a distribution
</li>
<li>Determine parameters
</li>
<li>Calculate probability of a point be generated by distribution
</li>
</ul>


</div>

<div id="outline-container-8-1" class="outline-3">
<h3 id="sec-8-1"><span class="section-number-3">8.1</span> Why Statistical &nbsp;&nbsp;&nbsp;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-8-1">

<ul>
<li>We've covered supervised, clustering, so let's skip to statistical methods
</li>
<li>Most straight forward way is to use distributions
</li>
</ul>


</div>

</div>

<div id="outline-container-8-2" class="outline-3">
<h3 id="sec-8-2"><span class="section-number-3">8.2</span> Statistical Example &nbsp;&nbsp;&nbsp;<span class="tag"><span class="slide">slide</span>&nbsp;<span class="two_col">two_col</span></span></h3>
<div class="outline-text-3" id="text-8-2">

<ul>
<li>Assume normal distribution
</li>
<li>Determine mean and standard distribution
</li>
<li>If <code>(point-mean)/stddev &gt; 3</code>, consider outlier
</li>
</ul>

<p>   <img src="img/gaussian-simple.png"  alt="img/gaussian-simple.png" />
</p>
</div>

<div id="outline-container-8-2-1" class="outline-4">
<h4 id="sec-8-2-1"><span class="section-number-4">8.2.1</span> Pros/Cons &nbsp;&nbsp;&nbsp;<span class="tag"><span class="notes">notes</span></span></h4>
<div class="outline-text-4" id="text-8-2-1">

<ul>
<li>Straight forward
</li>
<li>Can use % to intuitively motivate (3 stdevs is outside 99.7%)
</li>
<li>But must manually determine cut-off
</li>
<li>How do we know we got the parameters right?
</li>
</ul>


</div>
</div>
</div>

</div>

<div id="outline-container-9" class="outline-2">
<h2 id="sec-9"><span class="section-number-2">9</span> Grubb's Test &nbsp;&nbsp;&nbsp;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-9">

<ul>
<li>Takes into account sample size; reliability of mean/stddev measurements
</li>
<li>Take Z-score of a point, assign to <code>G</code>
</li>
<li>Student t-test: used to measure the distribution of <b>actual</b> mean from a
    sample
</li>
</ul>

<p>  <img src="img/grubbs.png"  alt="img/grubbs.png" />
</p>
</div>

<div id="outline-container-9-1" class="outline-3">
<h3 id="sec-9-1"><span class="section-number-3">9.1</span> Pros/Cons &nbsp;&nbsp;&nbsp;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-9-1">

<ul>
<li>Z-score: <code>abs(x-u)/s</code>
</li>
<li>This isn't actually <b>that</b> different from measuring stddev
</li>
<li>But accounts for sample size, can express your confidence with alpha 95% (0.05)
</li>
<li>Not going to go into t-test/t-distribution here, but basically it helps
     show where the mean likely is, given a set of sample data.
</li>
</ul>


</div>
</div>

</div>

<div id="outline-container-10" class="outline-2">
<h2 id="sec-10"><span class="section-number-2">10</span> Outlier Distance &nbsp;&nbsp;&nbsp;<span class="tag"><span class="slide">slide</span>&nbsp;<span class="animate">animate</span></span></h2>
<div class="outline-text-2" id="text-10">

<ul>
<li>How to take outliers in &gt; 1 dimension?
</li>
<li>Translate distance to 1 dimension, find outliers
</li>
<li>How to measure distance?
</li>
</ul>


</div>

<div id="outline-container-10-1" class="outline-3">
<h3 id="sec-10-1"><span class="section-number-3">10.1</span> Limitations &nbsp;&nbsp;&nbsp;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-10-1">

<ul>
<li>What are the limitations of the techniques we've seen?
</li>
<li>Limited to one dimension! Taking mean, stddev, etc. applies to 1
     dimension
</li>
<li>Euclidean: doesn't take into account dependent variables
</li>
</ul>


</div>
</div>

</div>

<div id="outline-container-11" class="outline-2">
<h2 id="sec-11"><span class="section-number-2">11</span> Mahalanobis Distance &nbsp;&nbsp;&nbsp;<span class="tag"><span class="slide">slide</span>&nbsp;<span class="two_col">two_col</span></span></h2>
<div class="outline-text-2" id="text-11">

<ul>
<li><code>y</code> depends somewhat on <code>x</code>
</li>
<li>Euclidean distance measures all dimensions equally
</li>
<li>Use <b>covariance matrix</b> to normalize distances in each dimension
</li>
<li>Matrix in which <code>E_i,j</code> is the covariance of <code>i</code>, <code>j</code> dimensions
</li>
</ul>

<p><img src="img/GaussianScatterPCA.png"  alt="img/GaussianScatterPCA.png" />
</p>
</div>

<div id="outline-container-11-1" class="outline-3">
<h3 id="sec-11-1"><span class="section-number-3">11.1</span> Mahalanobis &nbsp;&nbsp;&nbsp;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-11-1">

<ul>
<li>How to capture intuition that a distance along major axis is different than
     along this minor axis?
</li>
<li>Expand this drawing into 3 dimensions
</li>
<li>Euclidean distance will equally weight something that is out in the <code>z</code>
     direction as something that is along this primary scatter area
</li>
</ul>


</div>

</div>

<div id="outline-container-11-2" class="outline-3">
<h3 id="sec-11-2"><span class="section-number-3">11.2</span> Mahalanobis Definition &nbsp;&nbsp;&nbsp;<span class="tag"><span class="slide">slide</span></span></h3>
<div class="outline-text-3" id="text-11-2">

<ul>
<li>Find mean vector
</li>
<li>Normalize by covariance
</li>
</ul>

<p>   <img src="img/mahalanobis.png"  alt="img/mahalanobis.png" />
</p></div>

</div>

<div id="outline-container-11-3" class="outline-3">
<h3 id="sec-11-3"><span class="section-number-3">11.3</span> Some Math &nbsp;&nbsp;&nbsp;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-11-3">

<ul>
<li>Some extra math tricks to make the units work out:
</li>
<li>We're taking the squared distance, then taking the square root
</li>
<li>DM has <b>squared</b> Mahalanobis distance defined
</li>
<li>What happens if we have no covariance? S is the Identity matrix
</li>
</ul>


</div>
</div>

</div>

<div id="outline-container-12" class="outline-2">
<h2 id="sec-12"><span class="section-number-2">12</span> Contextual Outliers &nbsp;&nbsp;&nbsp;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-12">

<ul>
<li>Typically reduce scope to context, use global techniques
</li>
<li>Example: Calculate normal distribution for Berkeley weather
</li>
<li>Collective outliers: find collections, use as context
</li>
</ul>


</div>

</div>

<div id="outline-container-13" class="outline-2">
<h2 id="sec-13"><span class="section-number-2">13</span> <b>Break</b> &nbsp;&nbsp;&nbsp;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-13">





<script type="text/javascript" src="production/org-html-slideshow.js"></script>

</div>
</div>
</div>

<div id="postamble">
<p class="date">Date: 2013-04-26 09:40:08 PDT</p>
<p class="author">Author: Jim Blomo</p>
<p class="creator">Org version 7.8.02 with Emacs version 23</p>
<a href="http://validator.w3.org/check?uri=referer">Validate XHTML 1.0</a>

</div>
</body>
</html>
